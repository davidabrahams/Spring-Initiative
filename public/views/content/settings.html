<div class="user-settings">
  <h2>Change Admin Settings</h2>
  <div class="user-item" ng-if="user.isAdmin" ng-repeat="username in allUsers">
    <div class="row chadmin">
      <div class="col-md-4">{{username.email}}</div>
      <div class="col-md-2" ng-if="username.isAdmin">Admin</div>
      <div class="col-md-2" ng-if="!username.isAdmin">Staff</div>
      <div class="col-md-3">
        <button ng-disabled="user.email == username.email" ng-click="toggleAdmin(username)" class="btn btn-primary btn-sm" >Change Admin Status</button> 
      </div>
      <div class="col-md-3">
        <button ng-disabled="username.isAdmin" ng-click="delUser(username, allUsers, $index)" class="btn btn-danger btn-sm" >Delete User</button> 
      </div>
    </div>
  </div>

  <h2>Change Password</h2>
  <div class="change-password row">
    <div class="col-sm-4">
      <form role="form" name="form_change_password" class="form_change_password" ng-submit="changePassword(user)">
        
        <div class='form-group'>
          <label for="chngPassword1">New password</label>
          <input type="password" ng-model="currentPassword1" id="chngPassword1" class='form-control' required>
        </div>

        <div class='form-group'>
          <label for="chngPassword2">Repeat new password</label>
          <input type="password" ng-model="currentPassword2" id="chngPassword2" class='form-control' required>
        </div>

        <span ng-show="passwordMatchError" class="help-block">{{passwordMatchError}}</span>

        <div class="alert alert-info form-group" ng-show="passwordChangeMsg">
          <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a> {{passwordChangeMsg}}
        </div>

        <button class='form-control btn btn-primary submit-button' type='submit'>Change password</button>

      </form>
    </div>
  </div>
</div>

<link rel="stylesheet" type="text/css" href="/stylesheets/change-password.css">
